###################################
#
# Events for Decadence in Lilislamic Dynasties
#
# DWBH.91000 - DWBH.91499 
#
###################################

# Based on Decadence events written by Henrik Fåhraeus & Henrik Eklund


namespace = DWBH



# A tribe comes riding in from the wastes to topple a decadent dynasty
character_event = {
	id = DWBH.91000
	desc = EVTDESC91000
	picture = GFX_evt_moors
	border = GFX_event_normal_frame_war
	
	only_playable = yes
	only_independent = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		decadence = 75
		higher_tier_than = count
		NOT = {
			any_war = {
				defender = { character = ROOT }
				using_cb = decadence_invasion # Already under tribal invasion
			}
		}
	}
	
	mean_time_to_happen = {
		months = 360
		modifier = {
			factor = 0.75
			decadence = 80
		}
		modifier = {
			factor = 0.5
			decadence = 85
		}
		modifier = {
			factor = 0.5
			decadence = 90
		}
		modifier = {
			factor = 0.5
			decadence = 95
		}
	}
	
	immediate = {
		random_potential_tribal_county = { # A county suitable for tribal takeover
			location = {
				create_character = {
					random_traits = yes
					dynasty = random
					religion = ROOT
					culture = ROOT
					female = no
					age = 38
					attributes = {
						martial = 7
					}
					trait = skilled_tactician
				}
				
				new_character = {
					create_title = {
						tier = DUKE
						landless = yes
						temporary = yes
						culture = ROOT
						name = "DECADENCE_REVOLT"
						holder = THIS
					}
					
					if = {
						limit = { ROOT = { tier = duke } }
						wealth = 500
					}
					if = {
						limit = { ROOT = { tier = king } }
						wealth = 1000
					}
					if = {
						limit = { ROOT = { tier = emperor } }
						wealth = 2000
					}
					
					spawn_unit = {
						province = PREV
						home = PREV
						owner = THIS
						leader = THIS
						match_character = ROOT
						match_mult = 0.2
						earmark = decadence_revolters
						reinforces = yes
						reinforce_rate_multiplier = 0.25
					}
					create_character = {
						random_traits = yes
						dynasty = THIS
						religion = ROOT
						culture = ROOT
						female = yes
						age = 18
						attributes = {
							martial = 7
						}
						trait = skilled_tactician
					}
					new_character = {
						set_father = PREV
						spawn_unit = {
							province = PREVPREV
							home = PREVPREV
							owner = PREV
							#leader = THIS
							match_character = ROOT
							match_mult = 0.2
							earmark = decadence_revolters
							reinforces = yes
							reinforce_rate_multiplier = 0.25
						}
					}
					
					create_character = {
						random_traits = yes
						dynasty = THIS
						religion = ROOT
						culture = ROOT
						female = yes
						age = 20
						attributes = {
							martial = 7
						}
						trait = skilled_tactician
					}
					new_character = {
						set_father = PREV
						spawn_unit = {
							province = PREVPREV
							home = PREVPREV
							owner = PREV
							#leader = THIS
							match_character = ROOT
							match_mult = 0.2
							earmark = decadence_revolters
							reinforces = yes
							reinforce_rate_multiplier = 0.25
						}
					}
					
					create_character = {
						random_traits = yes
						dynasty = NONE
						religion = ROOT
						culture = ROOT
						female = yes
						age = 20
						attributes = {
							martial = 7
						}
						trait = skilled_tactician
					}
					new_character = {
						spawn_unit = {
							province = PREVPREV
							home = PREVPREV
							owner = PREV
							#leader = THIS
							match_character = ROOT
							match_mult = 0.2
							earmark = decadence_revolters
							reinforces = yes
							reinforce_rate_multiplier = 0.25
						}
					}
					create_character = {
						random_traits = yes
						dynasty = NONE
						religion = ROOT
						culture = ROOT
						female = yes
						age = 22
						attributes = {
							martial = 7
						}
						trait = skilled_tactician
					}
					new_character = {
						spawn_unit = {
							province = PREVPREV
							home = PREVPREV
							owner = PREV
							#leader = THIS
							match_character = ROOT
							match_mult = 0.2
							earmark = decadence_revolters
							reinforces = yes
							reinforce_rate_multiplier = 0.25
						}
					}
					create_character = {
						random_traits = yes
						dynasty = NONE
						religion = ROOT
						culture = ROOT
						female = yes
						age = 22
						attributes = {
							martial = 7
						}
						trait = skilled_tactician
					}
					new_character = {
						spawn_unit = {
							province = PREVPREV
							home = PREVPREV
							owner = PREV
							#leader = THIS
							match_character = ROOT
							match_mult = 0.2
							earmark = decadence_revolters
							reinforces = yes
							reinforce_rate_multiplier = 0.25
						}
					}
					
					set_character_flag = decadence_invader
					war = {
						target = ROOT
						casus_belli = decadence_invasion
					}
					clr_character_flag = decadence_invader
					
#					log = "91000: Decadence revolt in [Root.PrimaryTitle.GetName]!"
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA91000
		decadence = -50
	}
}

### Decadence Trait-Based Events

### Events that normally raise Decadence lower it instead for Lilislamic

# Drunkard
character_event = {
	id = DWBH.91200
	desc = EVTDESCDWBH.91200
	picture = GFX_evt_drunk
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = drunkard
		NOT = { has_character_flag = decadence_drunkard }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91200
		decadence = -2
		set_character_flag = decadence_drunkard
	}
}

# Homosexual
character_event = {
	id = DWBH.91201
	desc = EVTDESCDWBH.91201
	picture = GFX_evt_carriage
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = homosexual
		NOT = { has_character_flag = decadence_homosexual }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91201
		decadence = -2
		set_character_flag = decadence_homosexual
	}
}

# Hedonist
character_event = {
	id = DWBH.91202
	desc = EVTDESCDWBH.91202
	picture = GFX_evt_lunatic
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = hedonist
		NOT = { has_character_flag = decadence_hedonist }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91202
		decadence = -4
		set_character_flag = decadence_hedonist
	}
}

# Impaler
character_event = {
	id = DWBH.91203
	desc = EVTDESCDWBH.91203
	picture = GFX_evt_torture
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = impaler
		NOT = { has_character_flag = decadence_impaler }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91203
		decadence = -1
		set_character_flag = decadence_impaler
	}
}

# Lustful
character_event = {
	id = DWBH.91204
	desc = EVTDESCDWBH.91204
	picture = GFX_evt_sultan
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = lustful
		NOT = { trait = homosexual }
		NOT = { has_character_flag = decadence_lustful }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91204
		decadence = -4
		set_character_flag = decadence_lustful
	}
}

# Gluttonous
character_event = {
	id = DWBH.91205
	desc = EVTDESCDWBH.91205
	picture = GFX_evt_feast
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = gluttonous
		NOT = { has_character_flag = decadence_gluttonous }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91205
		decadence = -2
		set_character_flag = decadence_gluttonous
	}
}

# Greedy
character_event = {
	id = DWBH.91206
	desc = EVTDESCDWBH.91206
	picture = GFX_evt_jugglers
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = greedy
		NOT = { has_character_flag = decadence_greedy }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91206
		decadence = -1
		set_character_flag = decadence_greedy
	}
}

# Slothful
character_event = {
	id = DWBH.91207
	desc = EVTDESCDWBH.91207
	picture = GFX_evt_carriage
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = slothful
		NOT = { has_character_flag = decadence_slothful }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91207
		decadence = -2
		set_character_flag = decadence_slothful
	}
}

# Envious
character_event = {
	id = DWBH.91208
	desc = EVTDESCDWBH.91208
	picture = GFX_evt_throne_room
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = envious
		NOT = { has_character_flag = decadence_envious }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91208
		decadence = -2
		set_character_flag = decadence_envious
	}
}

# Wroth
character_event = {
	id = DWBH.91209
	desc = EVTDESCDWBH.91209
	picture = GFX_evt_burning_house
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = wroth
		NOT = { has_character_flag = decadence_wroth }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91209
		decadence = -2
		set_character_flag = decadence_wroth
	}
}

# Proud
character_event = {
	id = DWBH.91210
	desc = EVTDESCDWBH.91210
	picture = GFX_evt_market
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = proud
		NOT = { has_character_flag = decadence_proud }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91210
		decadence = -2
		set_character_flag = decadence_proud
	}
}

# Deceitful
character_event = {
	id = DWBH.91211
	desc = EVTDESCDWBH.91211
	picture = GFX_evt_lunatic
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = deceitful
		NOT = { has_character_flag = decadence_deceitful }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91211
		decadence = -2
		set_character_flag = decadence_deceitful
	}
}

# Genius
character_event = {
	id = DWBH.91218
	desc = EVTDESCDWBH.91218
	picture = GFX_evt_monk_muslim
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = genius
		NOT = { has_character_flag = decadence_genius }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91218
		decadence = -2
		set_character_flag = decadence_genius
	}
}

# Cruel
character_event = {
	id = DWBH.91217
	desc = EVTDESCDWBH.91217
	picture = GFX_evt_lunatic
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = cruel
		NOT = { has_character_flag = decadence_cruel }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91217
		decadence = 1
		set_character_flag = decadence_cruel
	}
}

# Brave
character_event = {
	id = DWBH.91229
	desc = EVTDESCDWBH.91229
	picture = GFX_evt_moors
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = brave
		NOT = { has_character_flag = decadence_brave }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91229
		decadence = -2
		set_character_flag = decadence_brave
	}
}

# Ambitious
character_event = {
	id = DWBH.91230
	desc = EVTDESCDWBH.91230
	picture = GFX_evt_throne_room
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = ambitious
		NOT = { has_character_flag = decadence_ambitious }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91230
		decadence = -2
		set_character_flag = decadence_ambitious
	}
}

# Just
character_event = {
	id = DWBH.91231
	desc = EVTDESCDWBH.91231
	picture = GFX_evt_bishop_muslim
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = just
		NOT = { has_character_flag = decadence_just }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91231
		decadence = -2
		set_character_flag = decadence_just
	}
}

# Zealous
character_event = {
	id = DWBH.91232
	desc = EVTDESCDWBH.91232
	picture = GFX_evt_bishop_muslim
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = zealous
		NOT = { has_character_flag = decadence_zealous }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91232
		decadence = -2
		set_character_flag = decadence_zealous
	}
}


# Mujahid
character_event = {
	id = DWBH.91233
	desc = EVTDESCDWBH.91233
	picture = GFX_evt_battle
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = mujahid
		NOT = { has_character_flag = decadence_mujahid }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91233
		decadence = -2
		set_character_flag = decadence_mujahid
	}
}

# Hafiz
character_event = {
	id = DWBH.91234
	desc = EVTDESCDWBH.91234
	picture = GFX_evt_monk_muslim
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = hafiz
		NOT = { has_character_flag = decadence_hafiz }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91234
		decadence = -2
		set_character_flag = decadence_hafiz
	}
}

# Hajjaj
character_event = {
	id = DWBH.91235
	desc = EVTDESCDWBH.91235
	picture = GFX_evt_kaaba
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = hajjaj
		NOT = { has_character_flag = decadence_hajjaj }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91235
		decadence = -2
		set_character_flag = decadence_hajjaj
	}
}

### Events that normally lower Decadence instead raise it

# Craven
character_event = {
	id = DWBH.91212
	desc = EVTDESCDWBH.91212
	picture = GFX_evt_throne_room
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = craven
		NOT = { has_character_flag = decadence_craven }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91212
		decadence = 2
		set_character_flag = decadence_craven
	}
}

# Content
character_event = {
	id = DWBH.91213
	desc = EVTDESCDWBH.91213
	picture = GFX_evt_child_talking
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = content
		NOT = { has_character_flag = decadence_content }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91213
		decadence = 2
		set_character_flag = decadence_content
	}
}

# Cynical
character_event = {
	id = DWBH.91215
	desc = EVTDESCDWBH.91215
	picture = GFX_evt_bishop_muslim
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = cynical
		NOT = { has_character_flag = decadence_cynical }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91215
		decadence = 2
		set_character_flag = decadence_cynical
	}
}

# Paranoid
character_event = {
	id = DWBH.91216
	desc = EVTDESCDWBH.91216
	picture = GFX_evt_carriage
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = paranoid
		NOT = { has_character_flag = decadence_paranoid }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91216
		decadence = 2
		set_character_flag = decadence_paranoid
	}
}
# Kind
character_event = {
	id = DWBH.91225
	desc = EVTDESCDWBH.91225
	picture = GFX_evt_emissary
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = kind
		NOT = { has_character_flag = decadence_kind }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91225
		decadence = 1
		set_character_flag = decadence_kind
	}
}


# Chaste
character_event = {
	id = DWBH.91221
	desc = EVTDESCDWBH.91221
	picture = GFX_evt_birth
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = chaste
		NOT = { has_character_flag = decadence_chaste }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91221
		decadence = 6 #Lilith dislikes chastity 
		set_character_flag = decadence_chaste
	}
}

# Celibate
character_event = {
	id = DWBH.91219
	desc = EVTDESCDWBH.91219
	picture = GFX_evt_bishop_muslim
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = celibate
		NOT = { has_character_flag = decadence_celibate }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91219
		decadence = 10 #and Lilith REALLY dislikes celibacy
		set_character_flag = decadence_celibate
	}
}

# Scholar
character_event = {
	id = DWBH.91220
	desc = EVTDESCDWBH.91220
	picture = GFX_evt_monk_muslim
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = scholar
		NOT = { has_character_flag = decadence_scholar }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91220
		decadence = 1 #Too much reading, not enough partying
		set_character_flag = decadence_scholar
	}
}


# Temperate
character_event = {
	id = DWBH.91222
	desc = EVTDESCDWBH.91222
	picture = GFX_evt_emissary
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = temperate
		NOT = { has_character_flag = decadence_temperate }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91222
		decadence = 3
		set_character_flag = decadence_temperate
	}
}

# Charitable
character_event = {
	id = DWBH.91223
	desc = EVTDESCDWBH.91223
	picture = GFX_evt_burning_house
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = charitable
		NOT = { has_character_flag = decadence_charitable }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91223
		decadence = 1
		set_character_flag = decadence_charitable
	}
}

# Diligent
character_event = {
	id = DWBH.91224
	desc = EVTDESCDWBH.91224
	picture = GFX_evt_monk_muslim
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = diligent
		NOT = { has_character_flag = decadence_diligent }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91224
		decadence = 1 
		set_character_flag = decadence_diligent
	}
}


# Patient
character_event = {
	id = DWBH.91226
	desc = EVTDESCDWBH.91226
	picture = GFX_evt_throne_room
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = patient
		NOT = { has_character_flag = decadence_patient }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91226
		decadence = 2
		set_character_flag = decadence_patient
	}
}

# Humble
character_event = {
	id = DWBH.91227
	desc = EVTDESCDWBH.91227
	picture = GFX_evt_desert
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = humble
		NOT = { has_character_flag = decadence_humble }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91227
		decadence = 3
		set_character_flag = decadence_humble
	}
}

# Honest
character_event = {
	id = DWBH.91228
	desc = EVTDESCDWBH.91228
	picture = GFX_evt_emissary
	
	ai = no
	min_age = 16
	capable_only = yes
	prisoner = no
	only_rulers = yes
	religion = lilislam
	
	trigger = {
		uses_decadence = yes
		trait = honest
		NOT = { has_character_flag = decadence_honest }
	}
	
	mean_time_to_happen = {
		months = 1200
	}
	
	option = {
		name = EVTOPTADWBH.91228
		decadence = 2
		set_character_flag = decadence_honest
	}
}






# IMPORTANT EVENT
# lilislamic gains the Decadent Trait

character_event = {
	id = DWBH.91300
	desc = EVTDESC91300
	picture = GFX_evt_sultan
	
	only_men = yes
	min_age = 16
	capable_only = yes
	prisoner = no
	religion = lilislam
	
	trigger = {
		num_of_dynasty_members = 3 # Does not trigger for tiny dynasties
		uses_decadence = yes
		NOT = { trait = decadent }
		NOT = { trait = zealous }
		NOT = { trait = mujahid }
		lower_tier_than = KING
		NOT = { has_character_modifier = decadent_timer }
		biggest_realm_size_relative = {
			NOT = { character = PREV }
			realm_size = 5
		}
	}
	
	mean_time_to_happen = {
		months = 70
		
		modifier = {
			factor = 0.5
			trait = misguided_warrior
		}
		modifier = {
			factor = 0.75
			trait = naive_appeaser
		}
		modifier = {
			factor = 0.75
			trait = amateurish_plotter
		}
		modifier = {
			factor = 0.1
			trait = celibate
		}
		modifier = {
			factor = 0.25
			trait = chaste
		}
		modifier = {
			factor = 0.5
			trait = humble
		}
		modifier = {
			factor = 0.5
			trait = temperate
		}
		modifier = {
			factor = 0.5
			trait = craven
		}
		modifier = {
			factor = 0.75
			trait = cynical
		}
		modifier = {
			factor = 0.75
			trait = content
		}
		modifier = {
			factor = 0.75
			trait = paranoid
		}
		modifier = {
			factor = 3.0
			trait = gluttonous
		}
		modifier = {
			factor = 3.0
			trait = greedy
		}
		modifier = {
			factor = 3.0
			trait = slothful
		}
		modifier = {
			factor = 3.0
			trait = wroth
		}
		modifier = {
			factor = 3.0
			trait = envious
		}
		modifier = {
			factor = 3.0
			trait = just
		}
		modifier = {
			factor = 10.0
			trait = proud
		}
		modifier = {
			factor = 10.0
			trait = ambitious
		}
		modifier = {
			factor = 2.0
			trait = homosexual
		}
		modifier = {
			factor = 10.0
			trait = hedonist
		}
		modifier = {
			factor = 10.0
			trait = lustful
		}
		modifier = {
			factor = 2.0
			trait = detached_priest
		}
		modifier = {
			factor = 4.0
			trait = martial_cleric
		}
		modifier = {
			factor = 8.0
			trait = scholarly_theologian
		}
		modifier = {
			factor = 10.0
			trait = mastermind_theologian
		}
		modifier = {
			factor = 5.0
				OR = {
				trait = alu_fiend
				trait = cambion
				}
			}
		modifier = {
			factor = 10.0
			trait = lilith
		}
		modifier = {
			factor = 10.0
			trait = incubus
		}
		modifier = {
			factor = 2.5
			tier = BARON
		}
		modifier = {
			factor = 10.0
			tier = COUNT
		}
		modifier = {
			factor = 20.0
			tier = DUKE
		}
		modifier = {
			factor = 0.5
			highest_ranked_relative = {
				tier = KING
			}
		}
		modifier = {
			factor = 0.5
			highest_ranked_relative = {
				tier = EMPEROR
			}
		}
		modifier = {
			factor = 0.5
			biggest_realm_size_relative = {
				realm_size = 150
			}
		}
		modifier = {
			factor = 0.5
			biggest_realm_size_relative = {
				realm_size = 250
			}
		}
	}
	
	option = {
		name = EVTOPTA91300
		add_trait = decadent
		
		hidden_tooltip = {
			any_dynasty_member = {
				limit = {
					ai = no
				}
				character_event = {
					id = DWBH.91370
					days = 1
				}
			}
		}
	}
}

# lilislamic ruler tries to convince a dynasty member to lose the 'Decadent' Trait
# Fired from decision "convince_to_straighten_up"
character_event = {
	id = DWBH.91350
	desc = EVTDESC91350
	picture = GFX_evt_council
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA91350 # Refuse
		ai_chance = {
			factor = 10
			modifier = {
				factor = 2
				NOT = {
					opinion = {
						who = FROMFROM
						value = 0
					}
				}
			}
			modifier = {
				factor = 2
				NOT = {
					opinion = {
						who = FROMFROM
						value = -25
					}
				}
			}
			modifier = {
				factor = 4
				NOT = {
					opinion = {
						who = FROMFROM
						value = -50
					}
				}
			}
			modifier = {
				factor = 4
				trait = celibate
			}
			modifier = {
				factor = 2
				trait = lustful
			}
			modifier = {
				factor = 2
				trait = arbitrary
			}
			modifier = {
				factor = 2
				trait = craven
			}
			modifier = {
				factor = 1.5
				trait = diligent
			}
			modifier = {
				factor = 1.5
				diplomacy = 12
			}
			modifier = {
				factor = 1.5
				learning = 12
			}
			modifier = {
				factor = 1.5
				intrigue = 12
			}
		}
		FROMFROM = {
			character_event = {
				id = DWBH.91351
				days = 3
				tooltip = EVTTOOLTIP91351
			}
		}
		character_event = {	id = DWBH.91371 days = 3650 }
	}
	
	option = {
		name = EVTOPTB91350 # Accept
		ai_chance = {
			factor = 5
			modifier = {
				factor = 3
				opinion = {
					who = FROMFROM
					value = 25
				}
			}
			modifier = {
				factor = 3
				opinion = {
					who = FROMFROM
					value = 50
				}
			}
			modifier = {
				factor = 3
				opinion = {
					who = FROMFROM
					value = 75
				}
			}
		}
		FROMFROM = {
			character_event = {
				id = DWBH.91352
				days = 3
				tooltip = EVTTOOLTIP91352
			}
		}
		add_character_modifier = {
			modifier = decadent_timer
			years = 5
			hidden = yes
		}
		remove_trait = decadent
		clr_character_flag = negotiated_to_drop_decadence
	}
}

# The decadent character refuses
character_event = {
	id = DWBH.91351
	desc = EVTDESC91351
	picture = GFX_evt_feast
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA91351 # Denounce
		ai_chance = {
			factor = 1
		}
		opinion = {
			modifier = opinion_takfir
			who = FROM
			months = 240
		}
		
		hidden_tooltip = {
			any_dynasty_member = {
				limit = {
					is_playable = yes
					NOT = { trait = decadent }
					NOT = { character = FROM }
				}
				
				character_event = {
					id = DWBH.91369
					days = 1
				}
			}
		}
	}
	option = {
		name = EVTOPTB91351 # Convince (diplo)
		ai_chance = {
			factor = 100
		}
		tooltip_info = diplomacy
		trigger = {
			diplomacy = 12
		}
		FROM = {
			character_event = {
				id = DWBH.91355
				days = 3
				tooltip = EVTTOOLTIP91355
			}
		}
	}
	option = {
		name = EVTOPTC91351 # Theological Debate (learning)
		ai_chance = {
			factor = 1000
		}
		tooltip_info = learning
		trigger = {
			learning = 12
		}
		FROM = {
			character_event = {
				id = DWBH.91360
				days = 3
				tooltip = EVTTOOLTIP91360
			}
		}
	}
	option = {
		name = EVTOPTD91351 # Threaten (intrigue)
		ai_chance = {
			factor = 100
		}
		tooltip_info = intrigue
		trigger = {
			intrigue = 12
		}
		FROM = {
			character_event = {
				id = DWBH.91365
				days = 3
				tooltip = EVTTOOLTIP91365
			}
		}
	}
	option = {
		name = EVTOPTE91351 # Demand because of favor
		custom_tooltip = { text = EVTOPTE91351_TOOLTIP }
		ai_chance = { factor = 30 } 

		trigger = { holds_favor_on = FROM }

		remove_favor = FROM

		FROM = { character_event = { id = DWBH.91378 days = 5 } }
	}
}

# The decadent character accepts at once
character_event = {
	id = DWBH.91352
	desc = EVTDESC91352
	picture = GFX_evt_council
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA91352
		
		opinion = {
			modifier = opinion_straightened_up
			who = FROM
			months = 120
		}
	}
}

# Attempt at diplomatic persuasion
character_event = {
	id = DWBH.91355
	desc = EVTDESC91355
	picture = GFX_evt_council
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA91355 # Refuse
		ai_chance = {
			factor = 1
		}
		FROM = {
			character_event = {
				id = DWBH.91356
				days = 3
				tooltip = EVTTOOLTIP91351
			}
		}
		prestige = -100
	}
	
	option = {
		name = EVTOPTB91355 # Accept
		ai_chance = {
			factor = 5
		}
		FROM = {
			character_event = {
				id = DWBH.91357
				days = 3
				tooltip = EVTTOOLTIP91352
			}
		}
		add_character_modifier = {
			modifier = decadent_timer
			years = 5
			hidden = yes
		}
		remove_trait = decadent
		clr_character_flag = negotiated_to_drop_decadence
	}
	
	option = {
		name = EVTOPTC91355 # Bribe (diplo)
		ai_chance = {
			factor = 6
		}
		tooltip_info = diplomacy
		trigger = {
			diplomacy = 12
		}
		FROM = {
			character_event = {
				id = DWBH.91372
				days = 3
			}
		}
	}
	
	option = {
		name = EVTOPTD91355 # Engage in theological debate (learning)
		ai_chance = {
			factor = 6
		}
		tooltip_info = learning
		trigger = {
			learning = 12
		}
		FROM = {
			character_event = {
				id = DWBH.91373
				days = 3
			}
		}
	}
	

}

# The decadent character refuses the diplomatic attempt
character_event = {
	id = DWBH.91356
	desc = EVTDESC91356
	picture = GFX_evt_jugglers
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA91351 # Denounce
		opinion = {
			modifier = opinion_takfir
			who = FROM
			months = 240
		}
		
		hidden_tooltip = {
			any_dynasty_member = {
				limit = {
					is_playable = yes
					NOT = { trait = decadent }
					NOT = { character = FROM }
				}
				
				character_event = {
					id = DWBH.91369
					days = 1
				}
			}
		}
	}
}

# The decadent character folds after the diplomatic attempt
character_event = {
	id = DWBH.91357
	desc = EVTDESC91357
	picture = GFX_evt_council
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA91352
		opinion = {
			modifier = opinion_straightened_up
			who = FROM
			months = 120
		}
	}
}

# Attempt at religious persuasion
character_event = {
	id = DWBH.91360
	desc = EVTDESC91360
	picture = GFX_evt_bishop_muslim
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA91360 # Refuse
		ai_chance = {
			factor = 3
		}
		FROM = {
			character_event = {
				id = DWBH.91356
				days = 3
				tooltip = EVTTOOLTIP91351
			}
		}
		piety = -100
	}
	
	option = {
		name = EVTOPTB91360 # Join the Bektashi Order
		
		trigger = {
			is_ruler = no
			OR = {
				religion = sunni
				religion = zikri
				religion = yazidi
			}
			is_heretic = no
			d_bektashi = {
				has_holder = yes
			}
		}
		
		ai_chance = {
			factor = 5
			modifier = {
				factor = 0.7
				any_spouse = {
					reverse_opinion = { who = ROOT value = 100 }
				}
			}
		}
		
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = DWBH.91361
					days = 3
				}
			}
		}
		add_character_modifier = {
			modifier = decadent_timer
			years = 5
			hidden = yes
		}
		remove_trait = decadent
		clr_character_flag = negotiated_to_drop_decadence
		piety = 100
		
		d_bektashi = {
			holder_scope = {
				ROOT = {
					move_character = PREV
				}
			}
		}

	}
	option = {
		name = EVTOPTC91360 # Join the Assassins
		
		trigger = {
			is_ruler = no
			OR = {
				religion = shiite
				religion = druze
				religion = hurufi
			}
			is_heretic = no
			d_hashshashin = {
				has_holder = yes
			}
		}
		
		ai_chance = {
			factor = 5
			modifier = {
				factor = 0.7
				any_spouse = {
					reverse_opinion = { who = ROOT value = 100 }
				}
			}
		}
		
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = DWBH.91361
					days = 3
				}
			}
		}
		
		remove_trait = decadent
		clr_character_flag = negotiated_to_drop_decadence
		piety = 100
		
		d_hashshashin = {
			holder_scope = {
				ROOT = {
					move_character = PREV
				}
			}
		}

	}
	option = {
		name = EVTOPTD91360 # Go on Hajj
		trigger = {
			NOT = {
				OR = {
					trait = hajjaj
					trait = on_hajj
				}
			}
		}
		
		ai_chance = {
			factor = 5
		}
		
		add_character_modifier = {
			modifier = decadent_timer
			years = 5
			hidden = yes
		}
		
		remove_trait = decadent
		clr_character_flag = negotiated_to_drop_decadence
		piety = 50
		
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = DWBH.91362
					days = 3
				}
			}
		}
		
		scaled_wealth = -0.20
		clr_character_flag = promise_hajj
		set_character_flag = activated_hajj
		set_character_flag = do_not_disturb
		hidden_tooltip = {
			letter_event = { 
				id = 86000
			}
		}
	}
	option = {
		name = EVTOPTE91360 # Donate money to charity
		
		ai_chance = {
			factor = 5
		}	
		add_character_modifier = {
			modifier = decadent_timer
			years = 5
			hidden = yes
		}
		
		remove_trait = decadent
		clr_character_flag = negotiated_to_drop_decadence
		
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = DWBH.91363
					days = 3
				}
			}
		}
		
		wealth = -10
		piety = 20
	}
	
	option = {
		name = EVTOPTC91355 # Bribe (diplo)
		ai_chance = {
			factor = 6
		}
		tooltip_info = diplomacy
		trigger = {
			diplomacy = 12
		}
		FROM = {
			character_event = {
				id = DWBH.91372
				days = 3
			}
		}
	}
	
	option = {
		name = EVTOPTD91355 # Engage in theological debate (learning)
		ai_chance = {
			factor = 6
		}
		tooltip_info = learning
		trigger = {
			learning = 12
		}
		FROM = {
			character_event = {
				id = DWBH.91373
				days = 3
			}
		}
	}
	

}


# The decadent character joined a holy order
character_event = {
	id = DWBH.91361
	desc = EVTDESC91361
	picture = GFX_evt_melee
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA91361
		opinion = {
			modifier = opinion_straightened_up
			who = FROM
			months = 120
		}
	}
}

# The decadent character went on the Hajj
character_event = {
	id = DWBH.91362
	desc = EVTDESC91362
	picture = GFX_evt_kaaba
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA91362
		opinion = {
			modifier = opinion_straightened_up
			who = FROM
			months = 120
		}
	}
}

# The decadent character gave money to charity
character_event = {
	id = DWBH.91363
	desc = EVTDESC91363
	picture = GFX_evt_kaaba
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA91363
		opinion = {
			modifier = opinion_straightened_up
			who = FROM
			months = 120
		}
	}
}

# Attempt at Intrigue persuasion
character_event = {
	id = DWBH.91365
	desc = EVTDESC91365
	picture = GFX_evt_shadow
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA91365 # Refuse
		ai_chance = {
			factor = 1
		}
		FROM = {
			character_event = {
				id = DWBH.91366
				days = 3
				tooltip = EVTTOOLTIP91351
			}
		}
		prestige = -100
	}
	
	option = {
		name = EVTOPTB91365 # Accept
		ai_chance = {
			factor = 5
		}
		FROM = {
			character_event = {
				id = DWBH.91367
				days = 3
				tooltip = EVTTOOLTIP91352
			}
		}	
		add_character_modifier = {
			modifier = decadent_timer
			years = 5
			hidden = yes
		}
		remove_trait = decadent
		clr_character_flag = negotiated_to_drop_decadence
	}
	option = {
		name = EVTOPTC91365 # Suicide
		trigger = {
			OR = {
				trait = stressed
				trait = depressed
				trait = one_eyed
				trait = one_handed
				trait = one_legged
				trait = disfigured
				trait = mangled
				trait = blinded
				trait = eunuch
				trait = pneumonic
				trait = leper
			}
		}
		ai_chance = {
			factor = 5
		}
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = DWBH.91368
					days = 3
				}
			}
		}
		death = {
			death_reason = death_suicide
		}
	}
	
	option = {
		name = EVTOPTC91355 # Bribe (diplo)
		ai_chance = {
			factor = 6
		}
		tooltip_info = diplomacy
		trigger = {
			diplomacy = 12
		}
		FROM = {
			character_event = {
				id = DWBH.91372
				days = 3
			}
		}
	}
	
	option = {
		name = EVTOPTD91355 # Engage in theological debate (learning)
		ai_chance = {
			factor = 6
		}
		tooltip_info = learning
		trigger = {
			learning = 12
		}
		FROM = {
			character_event = {
				id = DWBH.91373
				days = 3
			}
		}
	}

	
}

# The decadent character refuses the Intrigue attempt
character_event = {
	id = DWBH.91366
	desc = EVTDESC91366
	picture = GFX_evt_jugglers
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA91351 # Denounce
		opinion = {
			modifier = opinion_takfir
			who = FROM
			months = 240
		}
		
		hidden_tooltip = {
			any_dynasty_member = {
				limit = {
					is_playable = yes
					NOT = { trait = decadent }
					NOT = { character = FROM }
				}
				
				character_event = {
					id = DWBH.91369
					days = 1
				}
			}
		}
	}
}

# The decadent character folds after the Intrigue attempt
character_event = {
	id = DWBH.91367
	desc = EVTDESC91367
	picture = GFX_evt_council
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA91352
		opinion = {
			modifier = opinion_straightened_up
			who = FROM
			months = 120
		}
	}
}

# The decadent character suicides after the Intrigue attempt
character_event = {
	id = DWBH.91368
	desc = EVTDESC91368
	picture = GFX_evt_lunatic
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA91368
	}
}

# Other rulers of the dynasty are notified of the failure to straighten the character up
character_event = {
	id = DWBH.91369
	desc = EVTDESC91369
	picture = GFX_evt_jugglers
	
	notification = yes
	
	is_triggered_only = yes
	
	immediate = {
		opinion = {
			modifier = opinion_takfir
			who = FROMFROM
			months = 240
		}
	}
	
	option = {
		name = EVTOPTA91369
	}
}

# Player rulers of the dynasty are notified when someone goes decadent
character_event = {
	id = DWBH.91370
	desc = EVTDESC91370
	picture = GFX_evt_jugglers
	
	notification = yes
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA91370
	}
}

# Resets flag negotiated_to_drop_decadence
character_event = {
	id = DWBH.91371
	
	hide_window = yes
	
	is_triggered_only = yes
	immediate = {
		clr_character_flag = negotiated_to_drop_decadence
	}
}

# The decadent character tries to bribe dynasty head
character_event = {
	id = DWBH.91372
	desc = EVTDESC91372
	picture = GFX_evt_emissary
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA91372 # Accept
		ai_chance = {
			factor = 4
		}
		
		create_character = {
			random_traits = no
			dynasty = NONE
			female = no
			age = 20
			religion = ROOT
			culture = ROOT
			trait = eunuch
			trait = diligent
			trait = quick
			trait = brave
			trait = brilliant_strategist
			attributes = {
				martial = 10
			}
		}
		
		hidden_tooltip = {
			any_dynasty_member = {
				limit = {
					is_playable = yes
					NOT = { trait = decadent }
					NOT = { character = ROOT }
				}
				
				character_event = {
					id = DWBH.91369
					days = 1
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA91351 # Denounce
		ai_chance = {
			factor = 5
		}
		opinion = {
			modifier = opinion_takfir
			who = FROM
			months = 240
		}
		
		hidden_tooltip = {
			any_dynasty_member = {
				limit = {
					is_playable = yes
					NOT = { trait = decadent }
					NOT = { character = ROOT }
				}
				
				character_event = {
					id = DWBH.91369
					days = 1
				}
			}
		}
	}
}

# The decadent character justifies his decadence
character_event = {
	id = DWBH.91373
	desc = EVTDESC91373
	picture = GFX_evt_library
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA91373 # Accept
		ai_chance = {
			factor = 4
		}
		
		piety = 150
		
		hidden_tooltip = {
			any_dynasty_member = {
				limit = {
					is_playable = yes
					NOT = { trait = decadent }
					NOT = { character = ROOT }
				}
				
				character_event = {
					id = DWBH.91369
					days = 1
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA91351 # Denounce
		ai_chance = {
			factor = 5
		}
		reverse_opinion = {
			modifier = opinion_takfir
			who = FROM
			months = 240
		}
		
		hidden_tooltip = {
			any_dynasty_member = {
				limit = {
					is_playable = yes
					NOT = { trait = decadent }
					NOT = { character = ROOT }
				}
				
				character_event = {
					id = DWBH.91369
					days = 1
				}
			}
		}
	}
}


#Decadent character notified that he is forced through favor
character_event = {
	id = DWBH.91378
	desc = EVTDESC_91378
	picture = GFX_evt_council
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTA91378

		remove_trait = decadent

		tooltip = { reverse_remove_favor = FROM }

		FROM = { character_event = { id = DWBH.91379 days = 5 } }

	}
}

#Confirmation for favor holder that decadent character shaped up
character_event = {
	id = DWBH.91379
	desc = EVTDESC_91379
	picture = GFX_evt_council
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes



	option = {
		name = EVTOPTA91379
		tooltip = { FROM = { remove_trait = decadent } }
		opinion = {
			modifier = opinion_straightened_up
			who = FROM
			months = 120
		}
	}
}