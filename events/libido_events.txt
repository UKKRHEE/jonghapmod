namespace = libido

libido.1000 = {

	hidden = yes

	immediate = {
		if = { 
			limit = { has_variable = had_sex_this_year }
			remove_variable = had_sex_this_year
		}
		if = { 
			limit = { has_variable = spouse_sexual_desire_reduction }
			remove_variable = spouse_sexual_desire_reduction
		}
		trigger_event = { 
			on_action = on_fantasize
			days = { 1 182 }
		}
		trigger_event = { on_action = on_recalculate_number_of_children_wanted }
		trigger_event = {
			id = libido.1001
			days = 1
			}
		trigger_event = {
			id = libido.1001
			days = 31
			}
		trigger_event = {
			id = libido.1001
			days = 61
			}
		trigger_event = {
			id = libido.1001
			days = 92
			}
		trigger_event = {
			id = libido.1001
			days = 122
			}
		trigger_event = {
			id = libido.1001
			days = 152
			}
		trigger_event = {
			id = libido.1001
			days = 183
			}
		trigger_event = {
			id = libido.1001
			days = 213
			}
		trigger_event = {
			id = libido.1001
			days = 243
			}
		trigger_event = {
			id = libido.1001
			days = 274
			}
		trigger_event = {
			id = libido.1001
			days = 304
			}
		trigger_event = {
			id = libido.1001
			days = 334
			}
		}
	}

libido.1001 = {

		hidden = yes
		immediate = {
			clear_variable_list = had_sex_this_month
			if = {
				limit = { has_character_flag = impregnanted }
				remove_character_flag = impregnanted
				trigger_event = { on_action = on_impregnation }
			}
			if = {
				limit = { has_variable = libido }
				remove_variable = libido
			}
			set_variable = {
				name = libido
				value = monthly_libido
			}
			if = {
				limit = { has_variable = sexual_desire }
				change_variable = {
					name = sexual_desire
					add = monthly_sexual_desire
				}
			}
			else = {
				set_variable = {
					name = sexual_desire
					value = monthly_sexual_desire
				}
			}
			if = {
				limit = { var:sexual_desire >= 100 }
				remove_variable = sexual_desire
				set_variable = {
					name = sexual_desire
					value = 100
				}
			}
			trigger_event = { on_action = on_sex_life_management }
		}
	}
