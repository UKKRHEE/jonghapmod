### Dark World Chosen of Lilith Society Decisions

targeted_decisions = {

#
# Society rank 1
#

	dw_alter_cock_size = {
		filter = self
		ai_filter = self
		ai_check_interval = 36
		potential = {
			OR = {
				is_female = no
				AND = {
					is_female = yes
					trait = futa
				}
			}
			is_adult = yes
			has_heaven_hell_content = yes
			OR = {
				AND = {
					society_rank >= 1
					society_member_of = dw_the_chosen_of_lilith
				}
				trait = lilith
				trait = incubus
				trait = cambion
			}
			# Check for Child of Lilith moved to the potential field as CK2's ai was apparently ignoring the trait and modifier check, based on troubleshooting from Venator.
		}
		allow = {
			OR = {
				AND = {
					society_rank >= 1
					society_member_of = dw_the_chosen_of_lilith
				}
				trait = lilith
				trait = incubus
				trait = cambion
			}
			OR = {
				is_female = no
				AND = {
					is_female = yes
					trait = futa
				}
			}
		}
		effect = {
			narrative_event = {	id = DWLilith.170 } #Incubus image, but used for both until a futa specific image and event is added
			# TODO Add futa succubus image/event
		}
		ai_will_do = {
			factor = .1 # 10% chance, it may be interesting to see the ai randomly swapping their penis size around
		}		
	}
	dw_alter_tits_size = {
		filter = self
		ai_filter = self	
		ai_check_interval = 36
		potential = {
			is_adult = yes
			has_heaven_hell_content = yes
			is_female = yes
			OR = {
				AND = {
					society_rank >= 1
					society_member_of = dw_the_chosen_of_lilith
				}
				trait = lilith
				trait = alu_fiend
			}
			# Check for Child of Lilith moved to the potential field as CK2's ai was apparently ignoring the trait and modifier check, based on troubleshooting from Venator.
		}
		allow = {
			OR = {
				AND = {
					society_rank >= 1
					society_member_of = dw_the_chosen_of_lilith
				}
				trait = lilith
				trait = alu_fiend
			}
			is_female = yes
		}
		effect = {
			narrative_event = {	id = DWLilith.172 } 
		}
		ai_will_do = {
			factor = .1 # 10% chance, it may be interesting to see the ai randomly swapping their penis size around
		}		
	}

	dw_kiss_of_seduction = {
		filter = all
		ai_target_filter = realm
		ai_check_interval = 36
		from_potential = {
			is_adult = yes
			has_heaven_hell_content = yes
			OR = {
				AND = {
					society_rank >= 1
					society_member_of = dw_the_chosen_of_lilith
				}
				trait = lilith
				trait = incubus
			}
			NOT = { trait = incapable } # Hard to kiss someone when you're a vegetable
			prisoner = no # Very difficult from behind bars as well
			NOT = { has_any_opinion_modifier = opinion_seducing } # We're using the opinion modifier that is also used by the normal seducing method, as we don't want to overlap

		}		
		potential = {
			NOT = { trait = dwf_ghost }
			OR = { # Prevents Succubi and Incubi from seducing family members unless they are part of a religion that allows divine blood
				AND = {
					is_close_relative = FROM
					OR = {
						religion_group = seldarine_group
						religion = zoroastrian
						religion = messalian
						has_religion_feature = religion_holy_family
					}
				}
				NOT = { is_close_relative = FROM }
			}					
			is_within_diplo_range = FROM # They should be in diplomatic traveling distance
			is_adult = yes
			NOT = { character = FROM } # No seducing ourselves
			NOT = { trait = incapable } # Vegetable's are hard to seduce
			prisoner = no # While tempting, let's leave the captive audience alone
			NOT = { is_lover = FROM } # No need to seduce someone who we've already landed
			NOT = { is_consort = FROM } # No need to seduce someone who we already own
			NOT = { any_spouse = { character = FROM } } # No need to seduce someone who we've already landed
		}
		allow = {
			FROM = {
				OR = {
					AND = {
						society_rank >= 1
						society_member_of = dw_the_chosen_of_lilith
					}
					trait = lilith
					trait = incubus
				}
			}
			NOR = { # Changed to NOT - as a nor could block an individual who rejected someone else from being targeted, so both items need to be present to reject it.
				has_opinion_modifier = { who = FROM modifier = opinion_seduced_refused }
				has_character_modifier = dismissed_proposal
				has_opinion_modifier = { who = FROM modifier = dw_opinion_recently_seduced }
			}
			NOT = { trait = incapable } # Hard to kiss someone when you're a vegetable
			prisoner = no # Very difficult from behind bars as well
			NOR = {
				trait = chaste
				trait = eunuch
				trait = celibate
			}
			practical_age >= 16
		}
		effect = {
			hidden_tooltip = {
				FROM = {
					opinion = {
						who = ROOT
						modifier = opinion_seducing # Placing this keeps us from being able to overlap with the normal seduction, and limits to pursuing only one person at a time
						years = 1000
					}
					if = {
						limit = {
							is_close_relative = ROOT
							NOT = { religion = messalian }
							NOT = { religion = zoroastrian }
							NOT = { religion_group = seldarine_group }
							NOT = { has_religion_feature = religion_holy_family }
						}
						narrative_event = { id = DWLilith.5002 days = 1 } # Warning - Incest scandal risk
						break = yes
					}				
					if = {
						limit = {
							same_sex = ROOT
						}
						narrative_event = { id = DWLilith.5004 days = 1 } # Warning - Homosexual scandal risk
						break = yes
					}					
					if = {
						limit = {
							religion_group = christian
							OR = {
								is_priest = yes
								trait = monk
								trait = nun
								ROOT = { is_priest = yes }
								ROOT = { trait = monk }
								ROOT = { trait = nun }
							}
						}
						narrative_event = { id = DWLilith.5003 days = 1 } # Warning - Priest scandal risk
						break = yes
					}					
					if = {
						limit = { 
							age_diff = {
								who = ROOT
								years = 25
							}
						}
						narrative_event = { id = DWLilith.5005 days = 1 } # Warning - Age scandal risk
						break = yes
					}
					if  = {
						limit = {
							is_female = no
						}
						narrative_event = { id = DWLilith.5001 days = 1 } # No warning - Incubus start
						break = yes # we break out of the effect block
					}					
					# If we reach here, it's the Succubus default start
					narrative_event = { id = DWLilith.5000 days = 1 } # No warning - Succubus start
				}
			}
		}
		ai_will_do = {
			factor = 0.25 # 25% chance
			modifier = {
				factor = 0
				OR = {
					FROM = { ai_honor = 50 } # If an incubus or succubus somehow becomes very honorable, they'll no longer seek to use this method to sway others
					FROM = { NOT = { ai_ambition = -40 }} # If there simply isn't the drive to seek a seduction conquest
					AND = { # No trying to seduce grannies that aren't immortal
						is_female = yes
						NOT = { trait = immortal }
						practical_age = 50
					}
					FROM = { num_of_children = 12 } # We're calling it quits if the ai reaches a dozen
					FROM = { num_of_lovers = 3 } # The ai figures enough is enough at this point
					trait = ugly # We're setting some basic standards for the ai with the items below
					trait = dwarf
					trait = inbred
					trait = imbecile
					trait = clubfooted
					trait = harelip
					trait = hunchback
					trait = eunuch
					is_ill = yes
					is_pregnant = yes
				}
			}
			modifier = {
				factor = 0.5
				FROM = {
					num_of_children = 2 # Half as likely to do it if they've already a couple of kids
				}
			}
			modifier = {
				factor = 0.5
				FROM = {
					num_of_children = 4 # Half again as likely if they've 4
				}
			}
			modifier = {
				factor = 0.5
				FROM = {
					num_of_children = 8 # And only half again as likely if they've 8 kids (.25 * .5 * .5 * .5 = 3% )
				}
			}
			modifier = { # 4 times as likely to pursue them if they're good looking
				factor = 4
				trait = fair
			}
			modifier = {
				factor = 4 # 4 times as likely to do if the incubus/succubus is naturally inclined towards it
				FROM = {
					OR = {
						trait = lustful
						trait = hedonist
						trait = seducer
						trait = seductress
					}
				}
			}
			modifier = {
				factor = 4
				is_quest_target_of = FROM
			}
		}
	}

#	
# Society rank 2
#

	dw_life_leech_spell = {
		filter = court
		ai_target_filter = court
		ai_check_interval = 36
		from_potential = {
			is_adult = yes
			has_heaven_hell_content = yes
			prisoner = no # Hard to leech someone from a prison cell
			NOT = { has_character_modifier = dw_lovers_embrace_cooldown }
			OR = {
				AND = {
					society_rank >= 2
					society_member_of = dw_the_chosen_of_lilith
				}
				trait = lilith
				trait = incubus
			}
			health < 10 # Don't want anyone to go too crazy
		}
		potential = {
			NOT = { trait = dwf_ghost }
			is_within_diplo_range = FROM # They should be in diplomatic traveling distance
			is_adult = yes # No leeching the underage
		}
		allow = {
			FROM = {
				OR = {
					AND = {
						society_rank >= 2
						society_member_of = dw_the_chosen_of_lilith
					}
					trait = lilith
					trait = incubus
				}
				health < 10 # Don't want anyone to go too crazy
			}
			ROOT = {
				practical_age < 45
				is_adult = yes
				OR = {
					any_spouse = {
						character = FROM
					}
					is_lover = FROM
					is_consort = FROM
					AND = {
						trait = branded_slave
						host = { character = FROM }
					}
					AND = {
						prisoner = yes
						host = { character = FROM }
					}
					#Expand to include whores
				}
			}
		}
		effect = {
			FROM = {
				if = {
					limit = {
						OR = {
							trait = lilith
							trait = incubus
						}
					}
					narrative_event = { id = DWLilith.140 }
				}
				else_if = {
					limit = {
						society_member_of = dw_the_chosen_of_lilith
					}
					detract_society_currency_minor_effect = yes
				}
				narrative_event = { id = DWLilith.140 }
			}
		}
		ai_will_do = {
			factor = 0.1
			modifier = {
				factor = 0
				ROOT = {
					ai = no # Don't want them draining the player
				}
			}
		}
	}

	dw_chosen_recruit = {
		filter = all
		ai_target_filter = realm
		ai_check_interval = 12
		from_potential = {
			is_adult = yes
			prisoner = no
			NOT = { trait = incapable }
			NOT = { has_character_modifier = recruitment_timer }
			society_member_of = dw_the_chosen_of_lilith
			society_rank = {
				society = dw_the_chosen_of_lilith
				rank >= 2
			}
		}
		potential = {
			NOT = { trait = dwf_ghost }
			is_within_diplo_range = FROM
			is_adult = yes
			prisoner = no
			ai = yes
			NOT = { trait = incapable }
			can_join_society = dw_the_chosen_of_lilith
			is_in_society = no
			#AI cannot invite other AIs when society is full
			NOT = {
				is_society_rank_full = {
					society = dw_the_chosen_of_lilith 		
					rank = 1 								
				}
			}
			#Blocks so AI recruits sensible people (who might say no)
			OR = {
				FROM = { ai = no }
				is_friend = FROM
				is_lover = FROM
				is_close_relative = FROM
				interested_in_society = dw_the_chosen_of_lilith
			}
		}
		allow = {
			is_inaccessible_trigger = no
			custom_tooltip = {
				text = dw_chosen_recruit_block_tooltip
				OR = {
					NOT = { has_character_flag = dw_chosen_attempted_recruitment }
					interested_in_society = dw_the_chosen_of_lilith
				}
				NOT = { has_character_flag = being_recruited_by_the_chosen }
			}
			FROM = {
				is_inaccessible_trigger = no
				custom_tooltip = {
					text = recruit_delay_timer_tooltip
					NOT = { has_character_modifier = recruitment_delay_timer }
				}
			}
		}
		effect = {
			set_character_flag = dw_chosen_attempted_recruitment
			set_character_flag = being_recruited_by_the_chosen
			hidden_effect = {
				narrative_event = { id = DWSOC.7001 days = 1 } # recruitment chain
				FROM = {
					if = {
						limit = { ai = yes }
						add_character_modifier = {
							name = recruitment_timer
							days = 730
							hidden = yes
						}
					}
					add_character_modifier = {
						name = recruitment_delay_timer
						days = 120
						hidden = yes
					}
				}
			}
		}
		ai_will_do = {
			factor = 0.1
			modifier = {
				factor = 10 # recruit interested parties
				interested_in_society = dw_the_chosen_of_lilith
			}
			modifier = {
				factor = 0 # don't recruit characters interested in something else
				NOT = { interested_in_society = dw_the_chosen_of_lilith }
				is_interested_in_any_society = yes
			}
		}
	}
	
	
#
# Society rank 3
#

	dw_incubus_intimidation_illusion = {
		filter = all
		ai_target_filter = realm
		from_potential = {
			has_heaven_hell_content = yes
			society_rank >= 3
			society_member_of = dw_the_chosen_of_lilith
			OR = {
				trait = incubus
				trait = cambion
			}
			is_adult = yes
			prisoner = no
			NOT = { trait = incapable }			
		}
		potential = {
			NOT = { trait = dwf_ghost }
			is_within_diplo_range = FROM
			prisoner = no
			NOT = { character = FROM } 
			NOT = { is_inaccessible_trigger = yes }
			NOT = { diplomatic_immunity = yes }			
		}
		allow = {
			FROM = { has_society_currency_medium_trigger = yes }
		}
		effect = {
			FROM = { 
				narrative_event = { id = DWLilith.160 }
			}
		}
		ai_will_do = {
			factor = .1 # 10%
			modifier = {
				factor = 0
				FROM = { personal_opinion = { who = ROOT value = 1}} # If the ai has a positive opinion of the target, they'll opt not to target them
			}
		}		
	}
	
#	
# Society rank 4
#

#
# Society rank 4 (Purebloods)
#

	dw_lilith_incubus_death_dream = {
		filter = all
		ai_target_filter = realm
		from_potential = {
			has_heaven_hell_content = yes
			trait = incubus
			society_rank = 4
			society_member_of = dw_the_chosen_of_lilith
			is_adult = yes
			prisoner = no
			NOT = { trait = incapable }			
		}
		potential = {
			NOT = { trait = dwf_ghost }
			is_within_diplo_range = FROM
			NOT = { character = FROM } # Should NOT be casting this on themselves
			prisoner = no
			NOT = { is_inaccessible_trigger = yes }
			NOT = { diplomatic_immunity = yes }				
		}
		allow = {
			FROM = { has_society_currency_major_trigger = yes }
		}
		effect = {
			FROM = { 
				narrative_event = { id = DWLilith.130 }
			}
		}
		ai_will_do = {
			factor = 0 # Down from .1 to prevent this from ever happening
			modifier = {
				factor = 0
				OR = {
					OR = { # Incubi wont harm other Children of Lilith
						trait = incubus
						trait = lilith
					}
					is_friend = FROM # Friends don't Death Dream Friends
					FROM = { personal_opinion = { who = ROOT value = 1}} # If the ai has a positive opinion of the target, they'll opt not to target them					
				}
			}
		}		
	}
	dw_succubus_corruption = {
		filter = all
		ai_target_filter = realm
		from_potential = {
			has_heaven_hell_content = yes
			is_adult = yes
			prisoner = no
			NOT = { trait = incapable }		
			society_rank = 4
			society_member_of = dw_the_chosen_of_lilith
			trait = lilith
		}
		potential = {
			NOT = { trait = dwf_ghost }
			is_within_diplo_range = FROM
			prisoner = no
			NOT = { is_inaccessible_trigger = yes }
			NOT = { diplomatic_immunity = yes }				
			NOT = { character = FROM } # Shouldn't be casting this on themselves
		}
		allow = {
			FROM = { has_society_currency_major_trigger = yes }
		}
		effect = {
			FROM = { 
				narrative_event = { id = DWLilith.180 } 
			}
		}
		ai_will_do = {
			factor = 0 # Down from .1 to prevent this from ever happening
			modifier = {
				factor = 0
				OR = {
					OR = { # Succubi wont harm other Children of Lilith. Mother wouldn't like that.
						trait = incubus
						trait = lilith
						trait = alu_fiend
						trait = cambion
					}
					is_friend = FROM # Friends don't corrupt other friends (well, not via shitty diseases anyway)
					FROM = { personal_opinion = { who = ROOT value = 1}} # If the ai has a positive opinion of the target, they'll opt not to target them
				}
			}
		}		
	}




#
# Society rank 1
#
	dw_futa_morph_spell = {
		filter = self
		ai_target_filter = self
		ai_check_interval = 36
		potential = {
			is_adult = yes
			has_heaven_hell_content = yes
			has_gender_bender_content = yes
			is_female = yes
			# Check for Child of Lilith moved to the potential field as CK2's ai was apparently ignoring the trait and modifier check, based on troubleshooting from Venator.
			OR = {
				AND = {
					society_rank >= 1
					society_member_of = dw_the_chosen_of_lilith
					trait = alu_fiend
				}
				trait = lilith
				trait = alu_fiend
			}
		}
		allow = {
			OR = {
				AND = {
					society_rank >= 1
					society_member_of = dw_the_chosen_of_lilith
					has_society_currency_minor_trigger = yes
					trait = alu_fiend
				}
				trait = lilith
				trait = alu_fiend
			}
		}
		effect = {
			if = {
				limit = {
					society_member_of = dw_the_chosen_of_lilith
				}
				detract_society_currency_minor_effect = yes
			}
			narrative_event = {	id = DWLilith.220 }
		}
		ai_will_do = {
			factor = 0 # We don't want the ai constantly changing how it looks. Or at least I don't. If you do, then change the 0 to anything from a 1 (100%) to a 0.01 (1%) chance
		}		
	}
	dw_pox_purge = {
		filter = self
		ai_target_filter = self
		ai_check_interval = 36
		potential = {
			is_adult = yes
			has_heaven_hell_content = yes
			OR = {
				AND = {
					society_rank >= 2
					society_member_of = dw_the_chosen_of_lilith
				}
				trait = lilith
				trait = incubus
			}
			OR = {
				has_character_modifier = minor_disease_herpes
				trait = lovers_pox
			}
		}

		allow = {
			OR = {
				AND = {
					society_rank >= 2
					society_member_of = dw_the_chosen_of_lilith
					has_society_currency_minor_trigger = yes
				}
				trait = lilith
				trait = incubus
			}
			OR = {
				has_character_modifier = minor_disease_herpes
				trait = lovers_pox
			}
		}
		effect = {
			if = {
				limit = {
					society_member_of = dw_the_chosen_of_lilith
				}
				detract_society_currency_minor_effect = yes
			}
			character_event = { id = DWLilith.100 } # Self targeted
		}
		ai_will_do = {
			factor = 1 # Percentage based, we're assuming that an ai Succubus or Incubus will opt to cleanse themselves
			modifier = {
				factor = 0 # Unless they're misleading pricks to their sex partners, then they don't clean themselves, opting instead to spread the disease
				OR = {
					trait = cruel
					ai_honor = -30
				}
			}
		}
	}
	

#
# Society rank 2
#

	dw_beautify_self = {
		filter = self
		ai_target_filter = self
		ai_check_interval = 36
		potential = {
			is_adult = yes
			has_heaven_hell_content = yes
			# Check for Child of Lilith moved to the potential field as CK2's ai was apparently ignoring the trait and modifier check, based on troubleshooting from Venator.
			OR = {
				AND = {
					society_rank >= 2
					society_member_of = dw_the_chosen_of_lilith
				}
				trait = lilith
				trait = incubus
			}
			OR = {
				trait = ugly
				trait = hunchback
				trait = harelip
				trait = clubfooted
				trait = disfigured
				trait = mangled
				trait = uncouth
				NOT = { trait = fair }
				NAND = { 
					trait = bombshell
					OR = {
						is_female = yes
						AND = {
							is_female = no
							trait = feminine
						}
					}
				}
			}
		}
		allow = {
			OR = {
				AND = {
					society_rank >= 2
					society_member_of = dw_the_chosen_of_lilith
					has_society_currency_major_trigger = yes
				}
				trait = lilith
				trait = incubus
			}
			OR = {
				trait = ugly
				trait = hunchback
				trait = harelip
				trait = clubfooted
				trait = disfigured
				trait = mangled
				trait = dwarf
				trait = giant
				trait = uncouth
				NOT = { trait = fair }
				NAND = { 
					trait = bombshell
					OR = {
						is_female = yes
						AND = {
							is_female = no
							trait = feminine
						}
					}
				}
			}			
		}
		effect = {
			if = {
				limit = {
					society_member_of = dw_the_chosen_of_lilith
				}
				detract_society_currency_major_effect = yes
			}
			character_event = { id = DWLilith.110 } #Self target
		}
		ai_will_do = {
			factor = 0.1
			modifier = {
				factor = 0
				NOT = { ai_ambition = -10 }# They lack the drive to improve themselves or simply don't view their looks as important in their lives ( an ai_ambition score that is less than -10)
			}
		}		
	}

#
# Society rank 3
#

	dw_lilith_minor_heal_self = {
		filter = self
		ai_target_filter = self
		ai_check_interval = 36
		potential = {
			is_adult = yes
			has_heaven_hell_content = yes
			# Check for Child of Lilith moved to the potential field as CK2's ai was apparently ignoring the trait and modifier check, based on troubleshooting from Venator.
			OR = {
				AND = {
					society_rank >= 3
					society_member_of = dw_the_chosen_of_lilith
				}
				trait = lilith
				trait = incubus
			}
			OR = {
				trait = wounded
				trait = ill
				trait = flu
				trait = dysentery
				trait = gout
				trait = cough
				trait = fever
				trait = diarrhea
				trait = vomiting
				trait = chest_pain
				trait = cramps
				trait = rash
				trait = headache
				trait = abdominal_pain
				trait = fatigue
				trait = malaise
				trait = infection
				trait = scarred
			}
		}
		allow = {
			OR = {
				AND = {
					society_member_of = dw_the_chosen_of_lilith
					has_society_currency_minor_trigger = yes
				}
				trait = lilith
				trait = incubus
			}
		}
		effect = {
			if = {
				limit = {
					society_member_of = dw_the_chosen_of_lilith
				}
				detract_society_currency_minor_effect = yes
			}
			narrative_event = {	id = DWLilith.200 } #Self target
		}
		ai_will_do = {
			factor = 1 # 100%
			modifier = {
				factor = 0
				OR = {				
					AND = {
						NOT = {
							trait = immortal # Immortals don't care about age
						}
						practical_age = 100 # If they've lived long enough in the mortal realm, they're opting to not heal themselves - since being incapable will then lead to them also removing their immortality
					}
					NOT = { ai_ambition = -40 } # If they're content with what they've done and have no motivation to heal ( ai_ambition less than -40 )
				}
			}
		}		
	}

#
# Society rank 4
#

	dw_lilith_moderate_heal_self = {
		filter = self
		ai_target_filter = self
		ai_check_interval = 36
		potential = {
			is_adult = yes
			has_heaven_hell_content = yes
			# Check for Child of Lilith moved to the potential field as CK2's ai was apparently ignoring the trait and modifier check, based on troubleshooting from Venator.
			OR = {
				AND = {
					society_rank >= 4
					society_member_of = dw_the_chosen_of_lilith
					OR = {
						trait = cambion
						trait = alu_fiend
					}
				}
				trait = lilith
				trait = incubus
			}
			OR = {
				trait = maimed
				trait = pneumonic
				trait = syphilitic
				trait = has_tuberculosis
				trait = has_typhoid_fever
				trait = has_typhus
				trait = has_measles
				trait = food_poisoning
				trait = scurvy
				trait = disfigured
				trait = mangled
				trait = severely_injured
				trait = clubfooted
				trait = harelip
				trait = hunchback
				trait = lisp
				trait = scarred_mid
			}
		}
		allow = {
			OR = {
				AND = {
					society_member_of = dw_the_chosen_of_lilith
					has_society_currency_medium_trigger = yes
					OR = {
						trait = cambion
						trait = alu_fiend
					}
				}
				trait = lilith
				trait = incubus
			}

		}
		effect = {
			if = {
				limit = {
					society_member_of = dw_the_chosen_of_lilith
				}
				detract_society_currency_medium_effect = yes
			}
			narrative_event = {	id = DWLilith.210 } #Self target
		}
		ai_will_do = {
			factor = 1 # 100%
			modifier = {
				factor = 0
				OR = {				
					AND = {
						NOT = {
							trait = immortal # Immortals don't care about age
						}
						practical_age = 100 # If they've lived long enough in the mortal realm, they're opting to not heal themselves - since being incapable will then lead to them also removing their immortality
					}
					NOT = { ai_ambition = -40 } # If they're content with what they've done and have no motivation to heal ( ai_ambition less than -40 )
				}
			}
		}		
	}
	

#
# Society rank 4 (Purebloods)
#

	dw_lilith_major_heal_self = {
		filter = self
		ai_target_filter = self
		ai_check_interval = 36
		potential = {
			is_adult = yes
			has_heaven_hell_content = yes
			OR = {
				trait = lilith
				trait = incubus
			}
			society_rank = 4
			society_member_of = dw_the_chosen_of_lilith
			OR = {
				trait = leper
				trait = has_bubonic_plague
				trait = has_small_pox
				trait = has_aztec_disease
				trait = rabies
				trait = cancer
				trait = dancing_plague
				trait = infirm
				trait = incapable
				trait = one_eyed
				trait = one_handed
				trait = one_legged
				trait = scarred_high
			}
		}
		allow = {
			has_society_currency_major_trigger = yes
		}
		effect = {
			if = {
				limit = {
					society_member_of = dw_the_chosen_of_lilith
				}
				detract_society_currency_major_effect = yes
			}
			narrative_event = {	id = DWLilith.120 } #Self target
		}
		ai_will_do = {
			factor = 1 # 100%
			modifier = {
				factor = 0
				OR = {
					AND = {
						NOT = {
							trait = immortal # Immortals don't care about age
						}
						practical_age = 100 # If they've lived long enough in the mortal realm, they're opting to not heal themselves - since being incapable will then lead to them also removing their immortality
					}
					NOT = { ai_ambition = -40 } # If they're content with what they've done and have no motivation to heal ( ai_ambition less than -40 )
				}
			}
		}		
	}

}

society_decisions = {

	dw_infuse_with_demon_blood_half = {
		is_high_prio = yes
		potential = {
			is_adult = yes
			society_rank >= 3
			society_member_of = dw_the_chosen_of_lilith
			has_heaven_hell_content = yes		
			NOR = {
				trait = lilith
				trait = incubus
				trait = alu_fiend
				trait = cambion
			}
			prisoner = no
		}
		allow = {
			prisoner = no
			NOR = {
				trait = lilith
				trait = incubus
				trait = alu_fiend
				trait = cambion
			}
			society_currency >= 1000
		}
		effect = {
			change_society_currency = -1000
			narrative_event = { id = DWLilithQuests.8 days = 1 }
		}
	}
					
	dw_infuse_with_demon_blood_full = {
		is_high_prio = yes
		potential = {
			is_adult = yes
			society_rank = 4
			society_member_of = dw_the_chosen_of_lilith
			has_heaven_hell_content = yes		
			OR = {
				trait = alu_fiend
				trait = cambion
			}
			prisoner = no
		}
		allow = {
			prisoner = no
			OR = {
				trait = alu_fiend
				trait = cambion
			}
			society_currency >= 2000
		}
		effect = {
			change_society_currency = -2000
			narrative_event = { id = DWLilithQuests.9 days = 1 }
		}
	}		

	
	#Call for a Blood Moon Ritual in honor of Lilith
	dw_blood_moon_ritual = {
		is_high_prio = yes # Will show an alert once decision is enabled
		potential = {
			is_adult = yes
			society_rank >= 4
			society_member_of = dw_the_chosen_of_lilith
			has_heaven_hell_content = yes
			is_ruler = yes
			prisoner = no
			OR = {
				trait = lilith
				trait = incubus
			}
			NOR = {
				has_character_modifier = dw_held_lilith_blood_moon
				has_character_modifier = dw_holding_lilith_blood_ritual
				has_character_flag = dw_blood_moon_cooldown
			}
		}
		allow = {
			society_currency >= 1000
			war = no
			prisoner = no
			NOT = { trait = in_hiding }
		}
		effect = {
			add_character_modifier = {
				name = dw_holding_lilith_blood_ritual
				duration = 45
			}
			change_society_currency = -1000
			set_character_flag = dw_blood_moon_cooldown
			character_event = { id = DWLilith.1000} 
		}
		ai_will_do = {
			#Factors for an AI character to take the decision (1 = 100% chance)
			factor = 0.2 # 20% chance
			modifier = {
				factor = 0
				OR = {
					NOT = { ai_zeal = -50 } # Not interested in using their time to recognize Lilith ( An ai_zeal score that is less than -50)
					NOT = { ai_ambition = -20 } # They're too content with their lot in life to be interested in the gifts that Lilith can provide ( an ai_ambition score that is less than -20)
				}
			}
		}
	}
}