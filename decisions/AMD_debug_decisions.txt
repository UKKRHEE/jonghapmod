#	Crusader Kings 2 : Advanced Medieval Desires			#	Decisions


#	일반 디시전 : AMD_DCS_소문자
#	타겟 디시전 : AMD_TD_소문자


decisions = {
	AMD_DCS_debug_on_decision = {			#디버그 모드 온
		is_high_prio = yes
		
		potential = {	NOT = {	has_global_flag = AMD_GF_DEBUG	}	}
		allow = {	AMD_T_IS_PLAYER = yes	}
		effect = {	set_global_flag = AMD_GF_DEBUG	clr_global_flag = AMD_GF_IN_ACTION	
			if = {	limit = {	always = no	}	character_event = {	id = AMD_DEBUG.100	}	}
		}
		#revoke_allowed = {	always = no	}	ai_will_do = {	factor = 0	}
	}
	AMD_DCS_debug_off_decision = {			#디버그 모드 오프
		is_high_prio = yes
		
		potential = {	has_global_flag = AMD_GF_DEBUG	}
		allow = {	AMD_T_IS_PLAYER = yes	}
		effect = {	clr_global_flag = AMD_GF_DEBUG	clr_global_flag = AMD_GF_IN_ACTION	}
		#revoke_allowed = {	always = no	}	ai_will_do = {	factor = 0	}
	}
	AMD_DCS_debug_mp_test_decision = {			#MP TEST
		is_high_prio = no
		
		potential = {	has_global_flag = AMD_GF_DEBUG	}
		allow = {	AMD_T_IS_PLAYER = yes	AMD_T_IS_DOABLE_AGE = yes	}
		effect = {
			character_event = {	id = AMD_DEBUG.15250	}
		}
		#revoke_allowed = {	always = no	}	ai_will_do = {	factor = 0	}
	}
}


##################################################	바닐라의 설명 파트
# Targetted decisions are possible vs _all_ other characters and shown are in the Diplomacy View, not the Intrigue View. The taker is in the FROM scope.
#
# filter = [self/court/home_court/vassals/sub_realm/realm/dynasty/all] ('self' MUST be set for decisions targetting only the taker, the other filter types can be set to lessen CPU load)
# ai_target_filter = [self/court/home_court/vassals/sub_realm/realm/dynasty/all] (which characters for which the AI evaluates the decision.)
#	court: all characters in the AI's host court, including prisoners, and characters currently away (wards, prisoners, etc)
#	home_court: all characters in the AI's home court, including prisoners, and characters currently away (wards, prisoners, etc)
#	vassals: direct vassal rulers of the AI's employer
#	sub_realm: all characters below the AI's employer
#	realm: all characters in the same top realm as the AI
#	dynasty: all members of the same dynasty
#	rivals: your rivals plus any character you have an opinion modifier with 'crime = yes' set (the same set of characters the 'is_foe' trigger evaluates)
#	all: all living characters (Avoid if possible. VERY CPU-HEAVY!)
#	

#
#	Localization
#		decision_name: label in diplomacy menu
#		decision_name_named: label displayed when selecting the action. [Root.GetTitledFirstName] can be used to display the target name.
#		FROM 은 디시전을 실행하시는 바로 당신
#		ROOT 는 이 디시전 버튼이 뜨는 타겟

#has_ambition = obj_AMD_sex_labor

targetted_decisions = {
	AMD_TD_debug_main = {
		is_high_prio = no
		filter = all_including_me
		ai_target_filter = self	
		from_potential = {	has_global_flag = AMD_GF_DEBUG	AMD_T_IS_PLAYER = yes	}
		potential = {	is_alive = yes	}
		allow = {
			#글로벌 플래그 AMD 액션
			AMD_T_NOT_IN_ACTION = yes
		}
		effect = {
			#set_global_flag = AMD_GF_IN_ACTION
			FROM = {	AMD_E_SETA_POV = yes	AMD_E_SETA_STT = yes	}
			AMD_E_SETA_TGT = yes
			character_event = {	id = AMD_DEBUG_PING.10001	}
		}
		#revoke_allowed = {	always = no	}	ai_will_do = {	factor = 0	}
	}
	AMD_TD_debug_play_test = {
		is_high_prio = no
		filter = all
		ai_target_filter = self	
		from_potential = {	OR = { has_global_flag = AMD_GF_DEBUG trait = yiminhyee }	AMD_T_IS_PLAYER = yes	}
		potential = {	is_alive = yes	}
		allow = {
			#글로벌 플래그 AMD 액션
			AMD_T_NOT_IN_ACTION = yes
		}
		effect = {
			#set_global_flag = AMD_GF_IN_ACTION
			FROM = {	AMD_E_SETA_POV = yes	AMD_E_SETA_STT = yes	}
			AMD_E_SETA_TGT = yes
			character_event = {	id = AMD_DEBUG_PING.10002	}
		}
		#revoke_allowed = {	always = no	}	ai_will_do = {	factor = 0	}
	}
	AMD_TD_debug_ln_test = {
		is_high_prio = no
		filter = all
		ai_target_filter = self	
		from_potential = {	OR = { AND = { has_global_flag = AMD_GF_DEBUG AMD_T_IS_PLAYER = yes } trait = yiminhyee } }
		potential = {	AMD_T_IS_HUMAN = yes	AMD_T_IS_DOABLE_AGE = yes	is_opposite_sex = FROM	}
		allow = {	#글로벌 플래그 AMD 액션
			OR = {
				AMD_T_NOT_IN_ACTION = yes
				FROM = { trait = yiminhyee }
			}
		}
		effect = {
			#set_global_flag = AMD_GF_IN_ACTION
			AMD_E_SETA_TGT = yes
			FROM = {	AMD_E_SETA_POV = yes	AMD_E_SETA_STT = yes	AMD_E_SET_AD_WITH_PREV = yes	}
			AMD_E_2P_SCORING_1 = yes
			character_event = {	id = AMD_PLAY_PING.10000	}
		}
		#revoke_allowed = {	always = no	}	ai_will_do = {	factor = 0	}
	}
	
}

