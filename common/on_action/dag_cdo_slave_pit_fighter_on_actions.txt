yearly_playable_pulse = {
	events = {
		dag_cdo_slave_pit_fighter.0001 #~owners earn money from their slave-pit fighters
	}
}

#~Were heavily adapting the prostitution system in Carnalitas for this:
#~This was basically a rush job done as a forum request.
#~Given that prostitution and pit fighting have different goals we may be better off starting from scratch.
#~Also, it is possible Gladiatorial Combat comes along as part of a DLC.

dag_cdo_pit_fighter_yearly_maintenance_pulse = {
	trigger = {
		dag_cdo_is_working_as_pit_fighter_trigger = yes
	}
	effect = {
		save_scope_as = dag_cdo_pit_fighter
		if = {
			limit = {
				OR = {
					has_character_flag = dag_cdo_cannot_be_pit_fighter
					has_trait_with_flag = dag_cdo_cannot_be_pit_fighter
					effective_age >= dag_cdo_pit_fighter_age_cutoff
				}
			}
			send_interface_message = {
				type = event_generic_neutral
				title = msg_dag_cdo_stopped_working_as_pit_fighter
				left_icon = scope:dag_cdo_pit_fighter
				custom_tooltip = dag_cdo_can_no_longer_work_as_pit_fighter_tooltip
			}
			every_relation = {
				type = slave_owner
				send_interface_message = {
					type = event_generic_neutral
					title = msg_dag_cdo_stopped_working_as_pit_fighter
					left_icon = scope:dag_cdo_pit_fighter
					custom_tooltip = dag_cdo_can_no_longer_work_as_pit_fighter_tooltip
				}
			}
			dag_cdo_stop_working_as_pit_fighter_effect = yes
		}
		else = {
			random_list = {
				200 = {
					# nothing
				}
				100 = {
					dag_cdo_pit_fighter_rank_up_chance_modifier = yes
					trigger_event = {
						id = dag_cdo_pit_fighter_random_event.0001
					}
				}
				700 = {
					trigger_event = { on_action = dag_cdo_pit_fighter_random_events_pulse }
				}
			}
		}
	}
}

dag_cdo_pit_fighter_random_events_pulse = {
	random_events = {
		#~wounded?
		#~notable victory?
	}
}
