dag_cdo_discipline_interaction = {
	category = interaction_category_friendly

	desc = dag_cdo_discipline_interaction_desc
	
	interface_priority = 30						#~carn_sex_interaction is priority 40
	use_diplomatic_range = yes					#~probably should limit to only being used at same location, but fuck knows that's buggy as hell
#	common_interaction = no						#~What does this even do?
#	ignores_pending_interaction_block = yes		#~What does this even do?

	is_shown = {
		scope:recipient = {
			dag_cdo_show_submissive_interactions_trigger = { DOMINANT = scope:actor }
		}
	}

	cooldown = { years = 1 }					#~How often do we want the player to feel they have to do this?
	cooldown_against_recipient = { years = 5 }	#~This should be the same length as the imposed recently_ modifier

	is_valid = {
		scope:recipient = { is_ai = yes }		#~As we currently are missing localizations for this to happen to the player
	}

	is_valid_showing_failures_only = {
		scope:recipient = { dag_cdo_has_submissive_relation_trigger = { DOMINANT = scope:actor } }
	}

	auto_accept = yes
	
	send_option = {
		flag = discipline_chastise
		localization = dag_cdo_discipline_interaction_chastise
	}
	send_option = {
		flag = discipline_spank
		localization = dag_cdo_discipline_interaction_spank
	}	
	send_option = {
		flag = discipline_flog
		localization = dag_cdo_discipline_interaction_flog
	}
	send_option = {
		flag = discipline_shame
		localization = dag_cdo_discipline_interaction_shame
	}		
	
	on_accept = {
		if = {
			limit = { scope:discipline_chastise = yes }
			show_as_tooltip = {	#~Actual effect in the event for better localizations.
				dag_cdo_discipline_chastise_effect = {
					ACTOR = scope:actor
					VICTIM = scope:recipient
				}
			}
			scope:actor = {
				trigger_event = { on_action = dag_cdo_discipline_chastise_event_selection }
			}
		}
		else_if = {
			limit = { scope:discipline_spank = yes }
			show_as_tooltip = {	#~Actual effect in the event for better localizations.
				dag_cdo_discipline_spank_effect = {
					ACTOR = scope:actor
					VICTIM = scope:recipient
				}
			}
			scope:actor = {
				trigger_event = { on_action = dag_cdo_discipline_spank_event_selection }
			}
		}
		else_if = {
			limit = { scope:discipline_flog = yes }
			show_as_tooltip = {	#~Actual effect in the event for better localizations.
				dag_cdo_discipline_flog_effect = {
					ACTOR = scope:actor
					VICTIM = scope:recipient
				}			
			}
			scope:actor = {
				trigger_event = { on_action = dag_cdo_discipline_flog_event_selection }
			}
		}		
		else_if = {
			limit = { scope:discipline_shame = yes }
			show_as_tooltip = {	#~Actual effect in the event for better localizations.
				dag_cdo_discipline_shame_effect = {
					ACTOR = scope:actor
					VICTIM = scope:recipient
				}
			}
			scope:actor = {
				trigger_event = { on_action = dag_cdo_discipline_shame_event_selection }
			}
		}
	}
	send_options_exclusive = yes
	
	#~TODO: Enable ai performing the interaction
	
}
