dag_cdo_force_start_pit_fighter_interaction = {
	interface_priority = 32
	common_interaction = yes
	category = interaction_category_prison

	desc = dag_cdo_force_start_pit_fighter_interaction_desc
	
	is_shown = {
#		OR = {
#			has_game_rule = dag_cdo_pit_fighter_content_any_gender
#			AND = {
#				scope:recipient = { is_male = yes }
#				has_game_rule = dag_cdo_pit_fighter_content_male_only
#			}
#			AND = {
#				scope:recipient = { is_female = yes }
#				has_game_rule = dag_cdo_pit_fighter_content_female_only
#			}
#		}
		scope:actor = {
			has_relation_slave = scope:recipient
#			NOT = { faith = { has_doctrine = dag_cdo_doctrine_pit_fighter_crime } }
		}
		scope:recipient = {
			is_adult = yes
			dag_cdo_is_working_as_pit_fighter_trigger = no
			NOR = {
				has_character_flag = dag_cdo_cannot_be_pit_fighter
				has_trait_with_flag = dag_cdo_cannot_be_pit_fighter
			}
		}
	}

	is_valid_showing_failures_only = {
		scope:recipient = {
			is_diplomatically_available = yes
#			dag_cdo_can_have_sex_trigger = yes
		}
	}

	is_valid = {
		scope:recipient = {
			effective_age < dag_cdo_pit_fighter_age_cutoff
		}
		scope:actor = {
			custom_description = {
				text = "dag_cdo_cannot_have_max_number_of_slave_pit_fighters"
				any_relation = {
					type = slave
					dag_cdo_is_working_as_pit_fighter_trigger = yes
					count < dag_cdo_max_slave_pit_fighters_per_owner
				}
			}
		}
	}

	on_accept = {
		scope:actor = {
			send_interface_toast = {
				type = event_generic_neutral
				title = msg_dag_cdo_started_working_as_pit_fighter
				right_icon = scope:recipient
				scope:recipient = {
					if = {
						limit = {
							dag_cdo_is_pit_fighter_trigger = no
							NOT = {
								carn_has_fetish_trigger = {
									FETISH = submission
								}
							}
						}
						add_opinion = {
							target = scope:actor
							modifier = dag_cdo_forced_me_into_pit_fighting_opinion
						}
					}
					dag_cdo_start_working_as_pit_fighter_effect = yes
				}
			}
#			if = {
#				limit = {
#					faith = {
#						NOT = { has_doctrine = dag_cdo_doctrine_pit_fighter_accepted }
#					}
#				}
#				add_piety_level = -1
#			}
			stress_impact = {
				generous = medium_stress_impact_gain
				compassionate = major_stress_impact_gain
			}
		}
	}

	auto_accept = yes

}
